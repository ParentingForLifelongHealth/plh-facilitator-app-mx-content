[{"flow_type":"template","flow_name":"profile","status":"released","rows":[{"name":"next_icon_asset","value":"chevron-forward","exclude_from_translation":true},{"name":"profile_icon","value":"images/icons/profile_card.svg"},{"name":"language_icon","value":"images/icons/world.svg"},{"name":"user_id_icon","value":"images/icons/key.svg"},{"name":"content_icon","value":"images/icons/content.svg"},{"name":"parent_icon","value":"images/icons/people_network.svg"},{"type":"title","name":"settings","value":"Settings","parameter_list":"variant: page_banner"},{"type":"title","name":"account","value":"Profile","parameter_list":"variant: section_banner"},{"type":"button","name":"button_profile","value":"Profile","parameter_list":"variant: card;\nicon: @local.profile_icon;\nicon_secondary_asset: @local.next_icon_asset;\nstyle: no-background;\ntext_align: left;","action_list":"click | pop_up: profile_about | fullscreen: true, showCloseButton: false;"},{"type":"button","name":"button_language","value":"Switch language","parameter_list":"variant: card;\nicon: @local.language_icon;\nicon_secondary_asset: @local.next_icon_asset;\nstyle: no-background;\ntext_align: left;","action_list":"click | pop_up: language_select | fullscreen: true, showCloseButton: false;"},{"type":"button","name":"button_user_id","value":"Your Facilitator Code","parameter_list":"variant: card;\nicon: @local.user_id_icon;\nicon_secondary_asset: @local.next_icon_asset;\nstyle: no-background;\ntext_align: left;","action_list":"click | pop_up: profile_id | fullscreen: true, showCloseButton: false;"},{"type":"button","name":"button_content","value":"Your Content Package","parameter_list":"variant: card;\nicon: @local.content_icon;\nicon_secondary_asset: @local.next_icon_asset;\nstyle: no-background;\ntext_align: left;","action_list":"click | pop_up: package_select | fullscreen: true, showCloseButton: false;"},{"type":"title","name":"parent","value":"Parent Actions","parameter_list":"variant: section_banner"},{"type":"button","name":"button_parents","value":"Your Parent Groups","parameter_list":"variant: card;\nicon: @local.parent_icon;\nicon_secondary_asset: @local.next_icon_asset;\nstyle: no-background;\ntext_align: left;","action_list":"click | pop_up: profile_groups | fullscreen: true, showCloseButton: false;"}],"_xlsxPath":"templates/profile.xlsx"},{"flow_type":"template","flow_name":"profile_about","status":"released","rows":[{"type":"begin_template","name":"header","value":"section_header"},{"name":"section_id","value":"about","exclude_from_translation":true},{"name":"section_data","value":"profile_section"},{"type":"end_template"},{"type":"text","name":"text_user_name","value":"@global.user_name_question"},{"name":"user_name","value":"@fields.user_name"},{"type":"text_box","name":"text_box","value":"@local.user_name","condition":"@local.user_name != @global.user_name_default","parameter_list":"placeholder: @global.type_prompt"},{"type":"text_box","name":"text_box","condition":"@local.user_name == @global.user_name_default","parameter_list":"placeholder: @global.type_prompt"},{"type":"text","name":"text_state","value":"@global.state_question"},{"type":"combo_box","name":"user_state","value":"@fields.user_state","condition":"changed | set_field: user_state: @local.user_state","parameter_list":"answer_list: @data.state; placeholder: @global.select_prompt"},{"type":"begin_template","name":"nav_buttons","value":"nav_buttons","action_list":"completed | set_field: user_name:`@global.user_name_default`;\nuncompleted | set_field: user_name:`@global.user_name_default`;\ncompleted | set_field: user_state: @local.user_state;\nuncompleted | set_field: user_state: @local.user_state;\ncompleted | emit:completed;\nuncompleted | emit:uncompleted;","condition":"!@local.text_box"},{"type":"end_template"},{"type":"begin_template","name":"nav_buttons","value":"nav_buttons","action_list":"completed | set_field: user_name: @local.text_box;\nuncompleted | set_field: user_name: @local.text_box;\ncompleted | set_field: user_state: @local.user_state;\nuncompleted | set_field: user_state: @local.user_state;\ncompleted | emit:completed;\nuncompleted | emit:uncompleted;","condition":"@local.text_box"},{"type":"end_template"}],"_xlsxPath":"templates/profile.xlsx"},{"flow_type":"template","flow_name":"profile_id","status":"released","rows":[{"type":"begin_template","name":"header","value":"section_header"},{"name":"section_id","value":"id","exclude_from_translation":true},{"name":"section_data","value":"profile_section"},{"type":"end_template"},{"name":"user_id","value":"@fields._app_user_id","exclude_from_translation":true},{"name":"sync_latest","value":"@fields._server_sync_latest","exclude_from_translation":true},{"name":"sync_status","exclude_from_translation":true},{"name":"syncing","value":"Syncing..."},{"name":"sync_button_clicked","value":false,"exclude_from_translation":true},{"name":"copy","value":"Copy code"},{"name":"copied","value":"Copied!"},{"type":"begin_display_group","name":"has_ever_been_synced","condition":"@local.sync_latest","parameter_list":"style: column"},{"type":"qr_code","value":"@local.user_id"},{"type":"select_text","name":"user_code","value":"@local.user_id","parameter_list":"copy_text: @local.copy;\ncopied_text: @local.copied"},{"type":"text","name":"last_sync_text","value":"Last sync at: @local.sync_latest"},{"type":"end_display_group"},{"type":"begin_display_group","name":"has_never_been_synced","condition":"!@local.sync_latest","parameter_list":"style: column"},{"type":"text","name":"not_synced_text","value":"This device has never been synced. Sync to reveal your code."},{"type":"end_display_group"},{"type":"button","name":"sync_button","value":"Sync now","action_list":"click | set_local: sync_status: @local.syncing;\nclick | set_local: sync_status: @local.syncing;\nclick | emit: force_reprocess;\nclick | emit: server_sync;\nclick | set_local: sync_status: ;\nclick | set_local: sync_button_clicked: true;\nclick | emit: force_reprocess;","condition":"!@local.sync_status"},{"type":"button","name":"sync_button_disabled","value":"@local.syncing","condition":"@local.sync_status","parameter_list":"disabled:true"}],"_xlsxPath":"templates/profile.xlsx"},{"flow_type":"template","flow_name":"profile_group","status":"released","rows":[{"type":"update_action_list","name":"custom_actions_1","action_list":"nav_resume | emit: force_reload"},{"type":"begin_template","name":"header","value":"section_header"},{"name":"section_id","value":"group","exclude_from_translation":true},{"name":"section_data","value":"profile_section"},{"type":"end_template"},{"type":"begin_template","name":"parent_group","value":"parent_group"},{"name":"group_no","value":1},{"type":"end_template"}],"_xlsxPath":"templates/profile.xlsx"},{"flow_type":"template","flow_name":"profile_groups","status":"released","rows":[{"type":"begin_template","name":"header","value":"section_header"},{"name":"section_id","value":"groups","exclude_from_translation":true},{"name":"section_data","value":"profile_section"},{"type":"end_template"},{"type":"text","name":"group_desc","value":"Manage existing groups"},{"type":"begin_data_items","value":"@data.parent_groups"},{"type":"begin_template","name":"parent_group","value":"parent_group","condition":"!@item.archived"},{"name":"group_id","value":"@item.id"},{"name":"group_name","value":"@item.name"},{"type":"end_template"},{"type":"end_data_items"},{"__EMPTY":"click | add_data | \n\n_list_id: feat_data_actions_list,\ncompleted:false,\nlabel: @local.input_label"},{"type":"begin_display_group","parameter_list":"sticky: bottom"},{"type":"button","name":"add_group","value":"Create New Group","action_list":"click | add_data | \n_list_id: parent_groups,\nname: new group,\narchived: false;\nclick | set_field: current_group_no: new;\nclick | set_field: current_group_name: new group;\nclick | pop_up: edit_parent_group | fullscreen: true;","parameter_list":"style: card"},{"type":"end_display_group"}],"_xlsxPath":"templates/profile.xlsx"},{"flow_type":"template","flow_name":"parent_group","status":"released","rows":[{"name":"group_id","value":1},{"name":"group_name","value":"test"},{"type":"begin_display_group","name":"dg_parent_@item.parent_no"},{"type":"text","name":"text_@item.parent_no","value":"@local.group_name","style_list":"flex: 1","exclude_from_translation":true},{"type":"round_button","name":"button_edit_@local.group_id","action_list":"click | set_field: current_group_no: @local.group_id;\nclick | set_field: current_group_name: @local.group_name;\nclick | pop_up: edit_parent_group | fullscreen: true;","parameter_list":"icon_src: images/icons/edit.svg;","exclude_from_translation":true,"comments":"click | set_field: current_parent_no: @local.parent_no; \nclick | go_to: parent_profile;"},{"type":"round_button","name":"button_delete_@local.group_id","action_list":"click | set_field: current_group_no: @local.group_id;\nclick | set_field: current_group_name: @local.group_name;\nclick | pop_up: delete_group;","parameter_list":"variant: no-background; \nicon_src: images/icons/delete.svg;","exclude_from_translation":true,"comments":"click | set_field: current_parent_no: @local.parent_no; \nclick | pop_up: delete_parent;"},{"type":"end_display_group"},{"name":"task_progress_bar"}],"_xlsxPath":"templates/profile.xlsx"},{"flow_type":"template","flow_name":"delete_parent","status":"released","rows":[{"exclude_from_translation":true,"comments":"@fields.current_parent_no"},{"exclude_from_translation":true,"comments":"@fields.current_parent_name"},{"type":"title","name":"title","value":"Are you sure you want to delete @fields.current_parent_name?","exclude_from_translation":false},{"type":"text","name":"text_warning","value":"This will delete all of @fields.current_parent_name parent data. The action cannot be undone.","exclude_from_translation":false},{"type":"begin_display_group","name":"buttons"},{"type":"button","name":"button_no","value":"Cancel","action_list":"click | emit: uncompleted","parameter_list":"style: card","style_list":"flex:1","exclude_from_translation":false},{"type":"button","name":"button_delete","value":"Delete","action_list":"click | set_data |\n_list_id: parents,\n_id: @fields.current_parent_no,\narchived: true; \nclick | emit: completed;","parameter_list":"style: card","style_list":"flex:1","exclude_from_translation":false,"comments":"don't take away as coparent. Probably should but cant filter set_item"},{"type":"end_display_group"}],"_xlsxPath":"templates/profile.xlsx"},{"flow_type":"template","flow_name":"parent_profile","status":"released","rows":[{"type":"update_action_list","name":"custom_actions_1","action_list":"nav_resume | emit: force_reload"},{"type":"title","name":"title","value":"Parent profile"},{"name":"validate_external_id","value":true,"exclude_from_translation":true},{"name":"parent_no","value":"@fields.current_parent_no","exclude_from_translation":true},{"name":"parent_id","value":"parent_@fields.current_parent_no","exclude_from_translation":true},{"name":"parent_data_json","value":"@calc(JSON.parse(@fields.parent_data))","exclude_from_translation":true},{"name":"family_data_json","value":"@calc(JSON.parse(@fields.family_data))","condition":"!@local.new_profile","exclude_from_translation":true},{"name":"previous_parent_id_array","value":"@calc(Object.keys(@local.parent_data_json))","exclude_from_translation":true},{"name":"new_profile","value":"@calc(!(@local.previous_parent_id_array.includes(@local.parent_id)))","exclude_from_translation":true},{"name":"add_new_parent","value":"@calc(@local.parent_data_json[@local.parent_id] = {})","condition":"@local.new_profile","comments":"If this is a new parent profile:\nAdd an entry to the parent data json for this parent and...","exclude_from_translation":true},{"name":"set_new_parent_no","value":"@calc(@local.parent_data_json[@local.parent_id].parent_no = @local.parent_no)","condition":"@local.new_profile","comments":"... set their parent number and","exclude_from_translation":true},{"name":"set_new_parent_group_no","value":"@calc(@local.parent_data_json[@local.parent_id].parent_group_no = @fields.current_parent_group_no)","condition":"@local.new_profile","comments":"... set their parent group number","exclude_from_translation":true},{"name":"family_data_json_before","value":"@calc(JSON.parse(@fields.family_data))","condition":"@local.new_profile","exclude_from_translation":true},{"name":"family_data_json","value":"@calc(plh_add_family(@local.family_data_json_before, @local.parent_id))","condition":"@local.new_profile","comments":"... add them to family data json","exclude_from_translation":true},{"type":"text","name":"text_first_name","value":"First name","parameter_list":"style: emphasised"},{"name":"first_name","value":"@local.parent_data_json[@local.parent_id].first_name","exclude_from_translation":true},{"type":"text_box","name":"text_box_first_name","value":"@local.first_name","exclude_from_translation":true},{"name":"set_first_name","value":"@calc(@local.parent_data_json[@local.parent_id].first_name = @local.text_box_first_name)","exclude_from_translation":true},{"type":"text","name":"text_last_name","value":"Last name","parameter_list":"style: emphasised"},{"name":"last_name","value":"@local.parent_data_json[@local.parent_id].last_name","exclude_from_translation":true},{"type":"text_box","name":"text_box_last_name","value":"@local.last_name","exclude_from_translation":true},{"name":"set_last_name","value":"@calc(@local.parent_data_json[@local.parent_id].last_name = @local.text_box_last_name)","exclude_from_translation":true},{"type":"text","name":"text_external_id","value":"ParentText ID","parameter_list":"style: emphasised"},{"name":"external_id","value":"@local.parent_data_json[@local.parent_id].external_id","exclude_from_translation":true},{"type":"text_box","name":"text_box_external_id","value":"@local.external_id","exclude_from_translation":true},{"type":"begin_display_group","name":"dg_validate_external_id","parameter_list":"style: column","condition":"@local.validate_external_id"},{"name":"external_id_valid_syntax","value":"@calc(/^\\d{6}$/.test(@local.text_box_external_id))","exclude_from_translation":true},{"type":"text","name":"warning_external_id_invalid_syntax","value":"Make sure that the ParentText ID consists of 6 numerical characters.","condition":"!@local.external_id_valid_syntax && !!(@local.text_box_external_id)"},{"name":"other_external_ids_array","value":"@calc(Object.values(@local.parent_data_json).filter(item => item.parent_no != @local.parent_no).map(item => item.external_id))","exclude_from_translation":true},{"name":"external_id_already_in_use","value":"@calc(@local.other_external_ids_array.includes(@local.text_box_external_id))","exclude_from_translation":true},{"type":"text","name":"warning_external_id_in_use","value":"This ParentText ID has already been assigned to another parent.","condition":"@local.external_id_already_in_use && !!(@local.text_box_external_id)"},{"name":"external_id_accepted","value":"@local.external_id_valid_syntax && !@local.external_id_already_in_use","exclude_from_translation":true},{"type":"end_display_group","exclude_from_translation":true},{"name":"set_external_id","value":"@calc(@local.parent_data_json[@local.parent_id].external_id = @local.text_box_external_id)","exclude_from_translation":true},{"type":"begin_display_group","name":"dg_when_external_id_accepted","parameter_list":"style: column","condition":"@local.external_id_accepted || !@local.validate_external_id"},{"type":"begin_display_group","name":"dg_add"},{"type":"text","name":"text_coparent","value":"Co-parenting with","parameter_list":"style: emphasised","style_list":"flex: 1"},{"name":"parent_data_up_to_coparents_string","value":"@calc(JSON.stringify(@local.parent_data_json))","exclude_from_translation":true},{"name":"family_data_up_to_coparents_string","value":"@calc(JSON.stringify(@local.family_data_json))","exclude_from_translation":true},{"type":"round_button","name":"button_add","action_list":"click | set_field: parent_data: @local.parent_data_up_to_coparents_string; \nclick | set_field: family_data: @local.family_data_up_to_coparents_string; \nclick | pop_up: add_coparent;","parameter_list":"icon_src: person-add; style: navigation;","exclude_from_translation":true},{"type":"end_display_group","exclude_from_translation":true},{"name":"this_family_array","value":"@calc(@local.family_data_json.find((arr) => arr.includes(@local.parent_id)))","exclude_from_translation":true},{"name":"parent","value":"Parent"},{"type":"begin_items","value":"@local.parent_data_json","condition":"!@local.new_profile","exclude_from_translation":true},{"name":"coparent_no","value":"@item.parent_no","exclude_from_translation":true},{"name":"coparent_id","value":"parent_@item.parent_no","exclude_from_translation":true},{"name":"is_family_member","value":"@calc(@local.this_family_array.includes(@local.coparent_id))","exclude_from_translation":true},{"type":"begin_display_group","name":"dg_coparent_@item.parent_no","condition":"@local.is_family_member && @local.parent_no != @item.parent_no"},{"name":"coparent_first_name","value":"@local.parent_data_json[@local.coparent_id].first_name","exclude_from_translation":true},{"name":"coparent_last_name","value":"@local.parent_data_json[@local.coparent_id].last_name","exclude_from_translation":true},{"name":"coparent_name","value":"@calc((@local.coparent_first_name || @local.coparent_last_name) ? `${@local.coparent_first_name || ''} ${@local.coparent_last_name || ''}`.trim() : `${@local.parent} ${@local.coparent_no}`)","exclude_from_translation":true},{"type":"text","name":"text_name_@item.parent_no","value":"@local.coparent_name","style_list":"flex: 1","exclude_from_translation":true},{"name":"remove_family_member","value":"@calc(plh_remove_family_member(@local.family_data_json, @local.coparent_id))","exclude_from_translation":true},{"name":"add_singleton_family","value":"@calc(plh_add_family(@local.remove_family_member, @local.coparent_id))","exclude_from_translation":true},{"name":"uncoupled_coparent_family_data_string","value":"@calc(JSON.stringify(@local.add_singleton_family))","exclude_from_translation":true},{"type":"round_button","name":"button_remove","action_list":"click | set_field: family_data: @local.uncoupled_coparent_family_data_string; click | emit: force_reprocess","parameter_list":"icon_src: person-remove; style: navigation","exclude_from_translation":true},{"type":"end_display_group","exclude_from_translation":true},{"type":"end_items","exclude_from_translation":true},{"name":"family_data_string","value":"@calc(JSON.stringify(@local.family_data_json))","exclude_from_translation":true},{"name":"parent_data_string","value":"@calc(JSON.stringify(@local.parent_data_json))","exclude_from_translation":true},{"type":"begin_template","name":"nav_buttons","value":"nav_buttons","action_list":"completed | set_field: parent_data: @local.parent_data_string; \ncompleted | set_field: family_data: @local.family_data_string; \ncompleted | emit: server_sync; \ncompleted | emit: completed","exclude_from_translation":true},{"name":"button_completed"},{"type":"end_template"},{"type":"end_display_group"}],"_xlsxPath":"templates/profile.xlsx"},{"flow_type":"template","flow_name":"add_coparent","status":"released","rows":[{"type":"title","name":"title","value":"Co-parenting with"},{"type":"begin_data_items","value":"parents","exclude_from_translation":true},{"type":"text"},{"type":"simple_checkbox","name":" ","action_list":"changed | set_data |\n_list_id: parents,\n_id: @fields.current_parent_no,\nco_parent_id: @item.id,\nco_parent_name: @item.first_name @item.last_name; \nchanged | emit:completed;","condition":"!(@item.id == @fields.current_parent_no) && (@item.group_id == @fields.current_group_no) ","parameter_list":"reverse: false; label_text: @item.first_name @item.last_name"},{"type":"end_data_items"}],"_xlsxPath":"templates/profile.xlsx"},{"flow_type":"template","flow_name":"edit_parent_group","status":"released","rows":[{"__EMPTY_2":"group_no","__EMPTY_3":"@fields.current_group_no","__EMPTY_8":"Dont use group_no this is just here to highlight the field to be used"},{"name":"title_label","value":"Edit Parent Group"},{"name":"title_label","value":"New Parent Group","condition":"@fields.current_group_no == \"new\""},{"type":"text","value":"group number: @fields.current_group_no","condition":false},{"type":"title","name":"title","value":"@local.title_label"},{"type":"text","name":"text_group_name","value":"Group Name","parameter_list":"style: emphasised","exclude_from_translation":false},{"type":"text","value":"before: @fields.current_group_no","condition":false},{"type":"begin_data_items","value":"parent_groups","action_list":"filter: @item._last","condition":"@fields.current_group_no == \"new\""},{"type":"begin_display_group"},{"type":"text","value":"@item.id","condition":"@item._last"},{"type":"set_field","name":"current_group_no","value":"@item.id","condition":"@item._last"},{"type":"end_display_group"},{"type":"end_data_items"},{"type":"text_box","name":"text_box","value":"@fields.current_group_name","action_list":"changed | set_field: current_group_name: @local.text_box","condition":"@fields.current_group_no == @item.id"},{"type":"begin_data_items","value":"parents"},{"type":"text","value":"current: @fields.current_group_no ","condition":false},{"type":"text","value":"@item.group_id","condition":false},{"type":"begin_display_group","condition":"@item.group_id == @fields.current_group_no && !@item.archived"},{"name":"parent_name","value":"@item.first_name @item.last_name"},{"type":"begin_display_group","parameter_list":"style: column"},{"type":"text","name":"text_@item.parent_no","value":"@item.first_name @item.last_name","style_list":"flex: 1","condition":true},{"type":"text","value":"Co-parent: @item.co_parent_name","condition":"@item.co_parent_id"},{"type":"end_display_group"},{"type":"round_button","name":"button_co_add_@item.id","action_list":"click | set_field: current_parent_no: @item.id; \nclick | pop_up: add_coparent;","parameter_list":"icon_src: images/icons/group_add.svg;","condition":"!@item.co_parent_id"},{"type":"round_button","name":"button_co_remove_@item.id","action_list":"click | set_data |\n_list_id: parents,\n_id: @item.id,\nco_parent_id: \"\",\nco_parent_name: \"\"; ","parameter_list":"icon_src: images/icons/person_remove.svg;","condition":"@item.co_parent_id"},{"type":"round_button","name":"button_edit_@item.id","action_list":"click | set_field: current_parent_no: @item.id; \nclick | pop_up: edit_parent | fullscreen: true;","parameter_list":"icon_src: images/icons/edit.svg;","condition":true},{"type":"round_button","name":"button_delete_@item.id","action_list":"click | set_field: current_parent_no: @item.id; \nclick | set_field: current_parent_name: @item.first_name @item.last_name;\nclick | pop_up: delete_parent;","parameter_list":"variant: no-background; \nicon_src: images/icons/delete.svg;","condition":true},{"type":"end_display_group"},{"type":"end_data_items"},{"type":"begin_display_group"},{"type":"text","value":"Add Parent Profiles to group"},{"type":"round_button","action_list":"click | add_data | \n_list_id: parents,\ngroup_id: @fields.current_group_no\narchived: false;\nclick | set_field: current_parent_no: new;\nclick | pop_up: edit_parent | fullscreen: true;","parameter_list":"variant: no-background; \nicon_src: images/icons/add_circle.svg;"},{"type":"end_display_group"},{"type":"begin_display_group","parameter_list":"sticky: bottom"},{"type":"button","name":"save","value":"Save","action_list":"click | set_data |\n_list_id: parent_groups,\n_id: @fields.current_group_no,\nname: @local.text_box,\ntext: @local.text_box;\nclick | emit: completed;","comments":"click | set_data |\n_list_id: parent_groups,\n_id: @fields.current_group_no,\nname: @fields.current_group_name; \nclick | emit: completed;"},{"type":"end_display_group"}],"_xlsxPath":"templates/profile.xlsx"},{"flow_type":"template","flow_name":"delete_group","status":"released","rows":[{"name":"group_id","value":"@fields.current_group_no","exclude_from_translation":true},{"name":"group_name","value":"[name]","exclude_from_translation":true},{"type":"title","name":"title","value":"Are you sure you want to delete @fields.current_group_name?"},{"type":"text","name":"text_warning","value":"This will delete all of @fields.current_group_name group data. The action cannot be undone."},{"type":"begin_display_group","name":"buttons"},{"type":"button","name":"button_no","value":"Cancel","action_list":"click | emit: uncompleted","parameter_list":"style: card","style_list":"flex:1"},{"type":"button","name":"button_delete","value":"Delete","action_list":"click | set_data |\n_list_id: parent_groups,\n_id: @fields.current_group_no,\narchived: TRUE; \nclick | emit: completed;","parameter_list":"style: card","style_list":"flex:1","__EMPTY":"click | set_data | \n_list_id: modules,\n_id: @local.menu_id,\ntesting2: TRUE;\nclick | set_data | \n_list_id: modules,\ntesting3: TRUE;"},{"type":"end_display_group"}],"_xlsxPath":"templates/profile.xlsx"},{"flow_type":"template","flow_name":"edit_parent","status":"released","rows":[{"type":"begin_data_items","value":"parents","action_list":"filter: @item._last","condition":"@fields.current_parent_no == \"new\""},{"type":"begin_display_group"},{"type":"text","value":"@item.id","condition":"@item._last"},{"type":"set_field","name":"current_parent_no","value":"@item.id","condition":"@item._last"},{"type":"end_display_group"},{"type":"end_data_items"},{"type":"text_box","name":"text_box","value":"@fields.current_group_name","condition":"@fields.current_group_no == @item.id"},{"type":"begin_data_items","value":"parents"},{"type":"text","value":"current: @fields.current_group_no ","condition":false},{"type":"text","value":"@item.group_id","condition":false},{"type":"begin_display_group","condition":"@item.group_id == @fields.current_group_no && !@item.archived"},{"name":"parent_name","value":"@item.first_name @item.last_name"},{"type":"begin_display_group","parameter_list":"style: column"},{"type":"text","name":"text_@item.parent_no","value":"@item.first_name @item.last_name","style_list":"flex: 1","condition":true},{"type":"text","value":"Co-parent: @item.co_parent_name","condition":"@item.co_parent_id"},{"type":"end_display_group"},{"type":"round_button","name":"button_co_add_@item.id","action_list":"click | set_field: current_parent_no: @item.id; \nclick | pop_up: add_coparent;","parameter_list":"icon_src: images/icons/group_add.svg;","condition":"!@item.co_parent_id"},{"type":"round_button","name":"button_co_remove_@item.id","action_list":"click | set_data |\n_list_id: parents,\n_id: @item.id,\nco_parent_id: \"\",\nco_parent_name: \"\"; ","parameter_list":"icon_src: images/icons/person_remove.svg;","condition":"@item.co_parent_id"},{"type":"round_button","name":"button_edit_@item.id","action_list":"click | set_field: current_parent_no: @item.id; \nclick | pop_up: edit_parent | fullscreen: true;","parameter_list":"icon_src: images/icons/edit.svg;","condition":true},{"type":"round_button","name":"button_delete_@item.id","action_list":"click | set_field: current_parent_no: @item.id; \nclick | set_field: current_parent_name: @item.first_name @item.last_name;\nclick | pop_up: delete_parent;","parameter_list":"variant: no-background; \nicon_src: images/icons/delete.svg;","condition":true},{"type":"end_display_group"},{"type":"end_data_items"},{"type":"begin_display_group"},{"type":"text","value":"Add Parent Profiles to group"},{"type":"round_button","action_list":"click | add_data | \n_list_id: parents,\ngroup_id: @fields.current_group_no\narchived: false;\nclick | pop_up: edit_parent | fullscreen: true;","parameter_list":"variant: no-background; \nicon_src: images/icons/add_circle.svg;"},{"type":"end_display_group"},{"type":"begin_display_group","parameter_list":"sticky: bottom"},{"type":"button","name":"save","value":"Save","action_list":"click | set_data |\n_list_id: parent_groups,\n_id: @fields.current_group_no,\nname: @local.text_box,\ntext: @local.text_box;\nclick | emit: completed;","comments":"click | set_data |\n_list_id: parent_groups,\n_id: @fields.current_group_no,\nname: @fields.current_group_name; \nclick | emit: completed;"},{"type":"end_display_group"}],"_xlsxPath":"templates/profile.xlsx"}]
